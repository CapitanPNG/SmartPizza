<script>
import { onMount } from "svelte";

export let additionalIngredient;

let controller = null;

onMount(function(e) {
    controller.checked = false;
});

</script>

<!-- svelte-ignore a11y-label-has-associated-control -->
<label class="additional-ingredient">
    <div class="image-box">
        <img src={additionalIngredient.image} alt={additionalIngredient.name}>
    </div>
    <div class="label">
        <div class="text">
            {additionalIngredient.name}
        </div>
        <div class="checkbox">
            <input type="checkbox" class="controller" bind:this={controller} value={additionalIngredient.name}>
            <div class="checkbox-symbol">
                âœ“
            </div>
        </div>
    </div>
</label>

<style>

.additional-ingredient {
    width: 140px;
    margin: 10px;
    display: inline-flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
}

.image-box {
    width: 100%;
    height: 100%;
    display: block;
}

.image-box > img {
    width: 100%;
    height: 90px;
    display: table;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
    object-fit: cover;
}

.label {
    width: 100%;
    height: 26px;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    color: #ffffff;
    background-color: transparent;
    font-weight: 400;
    font-size: 12px;
}

.text {
    /*padding: 4px 20px;*/
    height: 100%;
    background-color: #0084ff;
    border-bottom-left-radius: 5px;
    flex-grow: 1;
}

.checkbox {
    height: 100%;
    background-color: #80c1ff;
    border-bottom-right-radius: 5px;
}

.checkbox-symbol {

}

.controller {
    display: none;
}

.controller:checked + .checkbox-symbol {
    visibility: visible;
}

.controller:not(:checked) + .checkbox-symbol {
    visibility: hidden;
}

.text,
.checkbox {
    width: 26px;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
}

</style>